CREATE EXTERNAL TABLE {{database}}.{{Name}} (
{% for c in StorageDescriptor.Columns -%} 
    `{{c.name}}` {{c.type}} COMMENT `{{c.description}}`
{% endfor -%}
)
{% if PartitionKeys -%}
PARTITION BY (
{% for p in PartitionKeys -%}
    `{{p.name}}` {{p.type}} COMMENT `{{p.description}}`
{% endfor -%}
)
{% endif -%}
ROW FORMAT SERDE
    '{{StorageDescriptor.SerdeInfo.SerializationLibrary}}'
WITH SERDEPROPERTIES (
    'paths'='{{json_col_paths}}'
)
STORED AS INPUTFORMAT
    '{{StorageDescriptor.InputFormat}}'
OUTPUTFORMAT
    '{{StorageDescriptor.OutputFormat}}'
LOCATION
    '{{StorageDescriptor.Location}}'
TBLPROPERTIES (
    'classification'='json'
);
